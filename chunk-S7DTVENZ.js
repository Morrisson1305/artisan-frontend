import{a as M,c as O}from"./chunk-5VSC257S.js";import{h as b,k as E,p as C,s as c}from"./chunk-INCWKMBU.js";import{Ia as v,Oa as m,S as x,X as S,a as h,b as u,cb as e,db as t,eb as a,p as s,sb as n}from"./chunk-PPTO45QW.js";var g=(d=>(d.OPEN="open",d.ASSIGNED="assigned",d.COMPLETED="completed",d.CANCELLED="cancelled",d))(g||{});var p=class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=m({type:r,selectors:[["app-navbar"]],decls:63,vars:0,consts:[[1,"navbar","border-bottom","bg-card-50","backdrop-blur"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","h-100","w-100"],["href","/",1,"d-flex","align-items-center","text-decoration-none"],[1,"logo","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-briefcase","text-light"],[1,"brand-text"],[1,"d-none","d-md-flex","align-items-center","gap-3"],["href","/dashboard",1,"nav-link","active"],["href","/jobs",1,"nav-link"],["href","/messages",1,"nav-link"],["href","/jobs/new",1,"btn","btn-primary","btn-sm","ms-3"],[1,"bi","bi-plus"],[1,"d-flex","align-items-center","gap-2","ms-3"],[1,"btn","btn-icon","btn-light","position-relative"],[1,"bi","bi-bell"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown",1,"btn","btn-light","dropdown-toggle"],["src","/user-avatar.jpg","width","32","height","32","alt","User",1,"rounded-circle"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/user-dashboard/profile",1,"dropdown-item"],[1,"bi","bi-person"],["href","#",1,"dropdown-item"],[1,"bi","bi-people"],[1,"bi","bi-gear"],[1,"dropdown-divider"],[1,"bi","bi-box-arrow-right"],[1,"d-md-none"],["data-bs-toggle","offcanvas","data-bs-target","#mobileNav",1,"btn","btn-icon"],[1,"bi","bi-list"],["tabindex","-1","id","mobileNav",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-body","d-flex","flex-column","gap-3"],["routerLink","/user-dashboard",1,"nav-link"],["href","#",1,"nav-link"],["href","#",1,"btn","btn-primary"]],template:function(i,l){i&1&&(e(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),a(5,"i",5),t(),e(6,"span",6),n(7,"CraftConnect"),t()(),e(8,"div",7)(9,"a",8),n(10,"Dashboard"),t(),e(11,"a",9),n(12,"Jobs"),t(),e(13,"a",10),n(14,"Messages"),t(),e(15,"a",11),a(16,"i",12),n(17," Post Job "),t(),e(18,"div",13)(19,"button",14),a(20,"i",15),e(21,"span",16),n(22," 3 "),t()(),e(23,"div",17)(24,"a",18),a(25,"img",19),t(),e(26,"ul",20)(27,"li")(28,"a",21),a(29,"i",22),n(30," Profile"),t()(),e(31,"li")(32,"a",23),a(33,"i",24),n(34," Find Artisans"),t()(),e(35,"li")(36,"a",23),a(37,"i",25),n(38," Settings"),t()(),e(39,"li"),a(40,"hr",26),t(),e(41,"li")(42,"a",23),a(43,"i",27),n(44," Sign out"),t()()()()()(),e(45,"div",28)(46,"button",29),a(47,"i",30),t()()()()(),e(48,"div",31)(49,"div",32)(50,"h5",33),n(51,"Menu"),t(),a(52,"button",34),t(),e(53,"div",35)(54,"a",36),n(55,"Dashboard"),t(),e(56,"a",37),n(57,"Jobs"),t(),e(58,"a",37),n(59,"Messages"),t(),e(60,"a",38),a(61,"i",12),n(62," Post Job "),t()()())},dependencies:[b,c,C],styles:[".navbar[_ngcontent-%COMP%]{height:70px;background-color:#ffffffe6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 0 10px #0000000d;z-index:999}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:100%}.logo[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1.25rem;background:linear-gradient(135deg,#4caf50,#ff6f00);border-radius:50%;color:#fff;margin-right:.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;background:linear-gradient(to right,#4caf50,#ff6f00);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.nav-link[_ngcontent-%COMP%]{color:#343a40;font-weight:500;transition:all .2s ease-in-out}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#4caf50}.btn-icon[_ngcontent-%COMP%]{width:38px;height:38px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:#f8f9fa;color:#343a40;transition:background-color .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.dropdown-menu[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 8px 24px #0000001a;padding:.5rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#eaf6eb}.offcanvas[_ngcontent-%COMP%]{background-color:#fff}.offcanvas[_ngcontent-%COMP%]   .offcanvas-title[_ngcontent-%COMP%]{font-weight:600}.offcanvas[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 0;color:#343a40}.offcanvas[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#4caf50}.offcanvas[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:12px}"]})};var f=class r{constructor(o){this.http=o}baseUrl=M.baseUrl;getAllJobs(){return this.http.get(`${this.baseUrl}`)}getUserJobs(o){return this.http.get(`${this.baseUrl}/my`,{params:{userId:o}})}getUserNotifications(o){return this.http.get("/api/notifications",{params:{userId:o}})}getJobById(o){return this.http.get(`${this.baseUrl}/${o}`)}createJob(o,i){return this.http.post(`${this.baseUrl}`,u(h({},o),{code:i}))}updateJobStatus(o,i){return this.http.patch(`${this.baseUrl}/${o}/status`,{status:i})}static \u0275fac=function(i){return new(i||r)(S(E))};static \u0275prov=x({token:r,factory:r.\u0275fac,providedIn:"root"})};var P=class r{constructor(o,i){this.authService=o;this.jobService=i}user;JobStatus=g;jobs$;activeJobs$;completedJobs$;totalSpent$;showJobPostModal=!1;ngOnInit(){this.user=this.authService.getUser();let o=this.user?.id;o&&(this.jobs$=this.jobService.getUserJobs(o),this.activeJobs$=this.jobs$.pipe(s(i=>i.filter(l=>l.status==="open"||l.status==="assigned"))),this.completedJobs$=this.jobs$.pipe(s(i=>i.filter(l=>l.status==="completed"))),this.totalSpent$=this.completedJobs$.pipe(s(i=>i.reduce((l,d)=>l+(d.finalAmount||0),0))))}openJobModal(){this.showJobPostModal=!0}closeJobModal(){this.showJobPostModal=!1}static \u0275fac=function(i){return new(i||r)(v(O),v(f))};static \u0275cmp=m({type:r,selectors:[["app-user-dashboard"]],decls:85,vars:0,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"welcome-text"],["href","/jobs/new",1,"btn-primary"],[1,"icon"],[1,"stats-cards"],[1,"card"],[1,"card-content"],[1,"card-icon","briefcase"],[1,"card-icon","clock"],[1,"card-icon","check-circle"],[1,"card-icon","dollar-sign"],[1,"tabs"],[1,"tab-buttons"],["data-tab","jobs",1,"active"],["data-tab","bids"],["id","jobs",1,"tab-content","active"],[1,"job-cards"],[1,"job-card"],[1,"btn-secondary"],["id","bids",1,"tab-content"],[1,"bid-cards"],[1,"bid-card"],[1,"bid-actions"],[1,"btn-primary"],[1,"btn-danger"]],template:function(i,l){i&1&&(a(0,"app-navbar"),e(1,"main",0)(2,"div",1)(3,"div",2)(4,"h1"),n(5,"Welcome back, John Doe!"),t(),e(6,"p"),n(7,"Manage your projects and connect with skilled artisans"),t()(),e(8,"a",3)(9,"span",4),n(10,"\uFF0B"),t(),n(11," Post New Job "),t()(),e(12,"div",5)(13,"div",6)(14,"div",7),a(15,"div",8),e(16,"div")(17,"p"),n(18,"Total Jobs"),t(),e(19,"h2"),n(20,"12"),t()()()(),e(21,"div",6)(22,"div",7),a(23,"div",9),e(24,"div")(25,"p"),n(26,"Active Jobs"),t(),e(27,"h2"),n(28,"5"),t()()()(),e(29,"div",6)(30,"div",7),a(31,"div",10),e(32,"div")(33,"p"),n(34,"Completed"),t(),e(35,"h2"),n(36,"7"),t()()()(),e(37,"div",6)(38,"div",7),a(39,"div",11),e(40,"div")(41,"p"),n(42,"Total Spent"),t(),e(43,"h2"),n(44,"$4,200"),t()()()()(),e(45,"div",12)(46,"div",13)(47,"button",14),n(48,"My Jobs"),t(),e(49,"button",15),n(50,"Recent Bids"),t()(),e(51,"div",16)(52,"div",17)(53,"div",18)(54,"h3"),n(55,"Tile Installation"),t(),e(56,"p"),n(57,"Install floor tiles for kitchen and bathroom"),t(),e(58,"button",19),n(59,"View"),t()(),e(60,"div",18)(61,"h3"),n(62,"Ceiling Repair"),t(),e(63,"p"),n(64,"Fix leaks and repaint ceiling in living room"),t(),e(65,"button",19),n(66,"View"),t()()()(),e(67,"div",20)(68,"h3"),n(69,"Bids for: Kitchen Cabinet Painting"),t(),e(70,"div",21)(71,"div",22)(72,"h4"),n(73,"Kwame Boateng"),t(),e(74,"p"),n(75,"\u20B5500 - Estimated 3 days"),t(),e(76,"div",23)(77,"button",24),n(78,"Accept"),t(),e(79,"button",25),n(80,"Reject"),t(),e(81,"button",19),n(82,"Message"),t(),e(83,"button",19),n(84,"View Profile"),t()()()()()()())},dependencies:[b,c,p],encapsulation:2})};export{P as a};
