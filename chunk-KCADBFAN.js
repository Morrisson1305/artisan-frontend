import{a as S,c as E}from"./chunk-5VSC257S.js";import{h as u,k as x,s as w}from"./chunk-INCWKMBU.js";import{Ia as p,Oa as g,S as v,X as h,a as c,b as f,cb as e,db as t,eb as i,p as s,sb as a}from"./chunk-PPTO45QW.js";var b=(l=>(l.OPEN="open",l.ASSIGNED="assigned",l.COMPLETED="completed",l.CANCELLED="cancelled",l))(b||{});var m=class d{constructor(r){this.http=r}baseUrl=S.baseUrl;getAllJobs(){return this.http.get(`${this.baseUrl}`)}getUserJobs(r){return this.http.get(`${this.baseUrl}/my`,{params:{userId:r}})}getUserNotifications(r){return this.http.get("/api/notifications",{params:{userId:r}})}getJobById(r){return this.http.get(`${this.baseUrl}/${r}`)}createJob(r,n){return this.http.post(`${this.baseUrl}`,f(c({},r),{code:n}))}updateJobStatus(r,n){return this.http.patch(`${this.baseUrl}/${r}/status`,{status:n})}static \u0275fac=function(n){return new(n||d)(h(x))};static \u0275prov=v({token:d,factory:d.\u0275fac,providedIn:"root"})};var y=class d{constructor(r,n){this.authService=r;this.jobService=n}user;JobStatus=b;jobs$;activeJobs$;completedJobs$;totalSpent$;showJobPostModal=!1;activeTab="jobs";ngOnInit(){this.user=this.authService.getUser();let r=this.user?.id;r&&(this.jobs$=this.jobService.getUserJobs(r),this.activeJobs$=this.jobs$.pipe(s(n=>n.filter(o=>o.status==="open"||o.status==="assigned"))),this.completedJobs$=this.jobs$.pipe(s(n=>n.filter(o=>o.status==="completed"))),this.totalSpent$=this.completedJobs$.pipe(s(n=>n.reduce((o,l)=>o+(l.finalAmount||0),0))))}openJobModal(){this.showJobPostModal=!0}closeJobModal(){this.showJobPostModal=!1}static \u0275fac=function(n){return new(n||d)(p(E),p(m))};static \u0275cmp=g({type:d,selectors:[["app-user-dashboard"]],decls:125,vars:0,consts:[["id","wrapper"],["id","accordionSidebar",1,"navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion"],["href","index.html",1,"sidebar-brand","d-flex","align-items-center","justify-content-center"],[1,"sidebar-brand-icon","rotate-n-15"],[1,"fas","fa-laugh-wink"],[1,"sidebar-brand-text","mx-3"],[1,"sidebar-divider","my-0"],[1,"nav-item","active"],["href","index.html",1,"nav-link"],[1,"fas","fa-fw","fa-tachometer-alt"],[1,"sidebar-divider"],[1,"nav-item"],["href","#","data-toggle","collapse","data-target","#collapsePages","aria-expanded","true","aria-controls","collapsePages",1,"nav-link","collapsed"],[1,"fas","fa-fw","fa-folder"],["id","collapsePages","aria-labelledby","headingPages","data-parent","#accordionSidebar",1,"collapse"],[1,"bg-white","py-2","collapse-inner","rounded"],[1,"collapse-header"],["href","login.html",1,"collapse-item"],["href","register.html",1,"collapse-item"],["href","forgot-password.html",1,"collapse-item"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[1,"navbar","navbar-expand","navbar-light","bg-white","topbar","mb-4","static-top","shadow"],["id","sidebarToggleTop",1,"btn","btn-link","d-md-none","rounded-circle","mr-3"],[1,"fa","fa-bars"],[1,"d-none","d-sm-inline-block","form-inline","mr-auto","ml-md-3","my-2","my-md-0","mw-100","navbar-search"],[1,"input-group"],["type","text","placeholder","Search for...","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","bg-light","border-0","small"],[1,"input-group-append"],["type","button",1,"btn","btn-primary"],[1,"fas","fa-search","fa-sm"],[1,"navbar-nav","ml-auto"],[1,"nav-item","dropdown","no-arrow","d-sm-none"],["href","#","id","searchDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-search","fa-fw"],["aria-labelledby","searchDropdown",1,"dropdown-menu","dropdown-menu-right","p-3","shadow","animated--grow-in"],[1,"form-inline","mr-auto","w-100","navbar-search"],[1,"topbar-divider","d-none","d-sm-block"],[1,"nav-item","dropdown","no-arrow"],["href","#","id","userDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"mr-2","d-none","d-lg-inline","text-gray-600","small"],["src","img/undraw_profile.svg",1,"img-profile","rounded-circle"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],["href","#",1,"dropdown-item"],[1,"fas","fa-user","fa-sm","fa-fw","mr-2","text-gray-400"],[1,"fas","fa-cogs","fa-sm","fa-fw","mr-2","text-gray-400"],[1,"fas","fa-list","fa-sm","fa-fw","mr-2","text-gray-400"],[1,"dropdown-divider"],["href","#","data-toggle","modal","data-target","#logoutModal",1,"dropdown-item"],[1,"fas","fa-sign-out-alt","fa-sm","fa-fw","mr-2","text-gray-400"],[1,"container-fluid"],[1,"row"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-primary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-auto"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],[1,"card","border-left-success","shadow","h-100","py-2"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-dollar-sign","fa-2x","text-gray-300"],[1,"card","border-left-info","shadow","h-100","py-2"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"h5","mb-0","mr-3","font-weight-bold","text-gray-800"],[1,"col"],[1,"progress","progress-sm","mr-2"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","50%"],[1,"fas","fa-clipboard-list","fa-2x","text-gray-300"],[1,"card","border-left-warning","shadow","h-100","py-2"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-comments","fa-2x","text-gray-300"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"ul",1)(2,"a",2)(3,"div",3),i(4,"i",4),t(),e(5,"div",5),a(6,"Craftgh "),e(7,"sup"),a(8,"R"),t()()(),i(9,"hr",6),e(10,"li",7)(11,"a",8),i(12,"i",9),e(13,"span"),a(14," User Dashboard"),t()()(),i(15,"hr",10),e(16,"li",11)(17,"a",12),i(18,"i",13),e(19,"span"),a(20,"Pages"),t()(),e(21,"div",14)(22,"div",15)(23,"h6",16),a(24,"Login Screens:"),t(),e(25,"a",17),a(26,"Login"),t(),e(27,"a",18),a(28,"Register"),t(),e(29,"a",19),a(30,"Forgot Password"),t()()()()(),e(31,"div",20)(32,"div",21)(33,"nav",22)(34,"button",23),i(35,"i",24),t(),e(36,"form",25)(37,"div",26),i(38,"input",27),e(39,"div",28)(40,"button",29),i(41,"i",30),t()()()(),e(42,"ul",31)(43,"li",32)(44,"a",33),i(45,"i",34),t(),e(46,"div",35)(47,"form",36)(48,"div",26),i(49,"input",27),e(50,"div",28)(51,"button",29),i(52,"i",30),t()()()()()(),i(53,"div",37),e(54,"li",38)(55,"a",39)(56,"span",40),a(57,"Douglas McGee"),t(),i(58,"img",41),t(),e(59,"div",42)(60,"a",43),i(61,"i",44),a(62," Profile "),t(),e(63,"a",43),i(64,"i",45),a(65," Settings "),t(),e(66,"a",43),i(67,"i",46),a(68," Activity Log "),t(),i(69,"div",47),e(70,"a",48),i(71,"i",49),a(72," Logout "),t()()()()(),e(73,"div",50)(74,"div",51)(75,"div",52)(76,"div",53)(77,"div",54)(78,"div",55)(79,"div",56)(80,"div",57),a(81," Earnings (Monthly)"),t(),e(82,"div",58),a(83,"$40,000"),t()(),e(84,"div",59),i(85,"i",60),t()()()()(),e(86,"div",52)(87,"div",61)(88,"div",54)(89,"div",55)(90,"div",56)(91,"div",62),a(92," Earnings (Annual)"),t(),e(93,"div",58),a(94,"$215,000"),t()(),e(95,"div",59),i(96,"i",63),t()()()()(),e(97,"div",52)(98,"div",64)(99,"div",54)(100,"div",55)(101,"div",56)(102,"div",65),a(103,"Tasks "),t(),e(104,"div",55)(105,"div",59)(106,"div",66),a(107,"50%"),t()(),e(108,"div",67)(109,"div",68),i(110,"div",69),t()()()(),e(111,"div",59),i(112,"i",70),t()()()()(),e(113,"div",52)(114,"div",71)(115,"div",54)(116,"div",55)(117,"div",56)(118,"div",72),a(119," Pending Requests"),t(),e(120,"div",58),a(121,"18"),t()(),e(122,"div",59),i(123,"i",73),t()()()()()(),i(124,"div",51),t()()()())},dependencies:[u,w],encapsulation:2})};export{y as a};
