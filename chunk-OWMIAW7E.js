import{a as _,c as y}from"./chunk-5VSC257S.js";import{f as J,h as b,k,p,s as f}from"./chunk-INCWKMBU.js";import{Da as d,Ia as u,Oa as c,S as P,Sa as w,X as O,Za as h,_a as x,a as C,b as M,cb as e,db as t,eb as a,jb as S,p as m,sb as n}from"./chunk-PPTO45QW.js";var E=(s=>(s.OPEN="open",s.ASSIGNED="assigned",s.COMPLETED="completed",s.CANCELLED="cancelled",s))(E||{});var v=class l{static \u0275fac=function(o){return new(o||l)};static \u0275cmp=c({type:l,selectors:[["app-navbar"]],decls:63,vars:0,consts:[[1,"navbar","border-bottom","bg-card-50","backdrop-blur"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","h-100","w-100"],["href","/",1,"d-flex","align-items-center","text-decoration-none"],[1,"logo","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-briefcase","text-light"],[1,"brand-text"],[1,"d-none","d-md-flex","align-items-center","gap-3"],["href","/dashboard",1,"nav-link","active"],["href","/jobs",1,"nav-link"],["href","/messages",1,"nav-link"],["href","/jobs/new",1,"btn","btn-primary","btn-sm","ms-3"],[1,"bi","bi-plus"],[1,"d-flex","align-items-center","gap-2","ms-3"],[1,"btn","btn-icon","btn-light","position-relative"],[1,"bi","bi-bell"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown",1,"btn","btn-light","dropdown-toggle"],["src","/user-avatar.jpg","width","32","height","32","alt","User",1,"rounded-circle"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/user-dashboard/profile",1,"dropdown-item"],[1,"bi","bi-person"],["href","#",1,"dropdown-item"],[1,"bi","bi-people"],[1,"bi","bi-gear"],[1,"dropdown-divider"],[1,"bi","bi-box-arrow-right"],[1,"d-md-none"],["data-bs-toggle","offcanvas","data-bs-target","#mobileNav",1,"btn","btn-icon"],[1,"bi","bi-list"],["tabindex","-1","id","mobileNav",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-body","d-flex","flex-column","gap-3"],["routerLink","/user-dashboard",1,"nav-link"],["href","#",1,"nav-link"],["href","#",1,"btn","btn-primary"]],template:function(o,r){o&1&&(e(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),a(5,"i",5),t(),e(6,"span",6),n(7,"CraftConnect"),t()(),e(8,"div",7)(9,"a",8),n(10,"Dashboard"),t(),e(11,"a",9),n(12,"Jobs"),t(),e(13,"a",10),n(14,"Messages"),t(),e(15,"a",11),a(16,"i",12),n(17," Post Job "),t(),e(18,"div",13)(19,"button",14),a(20,"i",15),e(21,"span",16),n(22," 3 "),t()(),e(23,"div",17)(24,"a",18),a(25,"img",19),t(),e(26,"ul",20)(27,"li")(28,"a",21),a(29,"i",22),n(30," Profile"),t()(),e(31,"li")(32,"a",23),a(33,"i",24),n(34," Find Artisans"),t()(),e(35,"li")(36,"a",23),a(37,"i",25),n(38," Settings"),t()(),e(39,"li"),a(40,"hr",26),t(),e(41,"li")(42,"a",23),a(43,"i",27),n(44," Sign out"),t()()()()()(),e(45,"div",28)(46,"button",29),a(47,"i",30),t()()()()(),e(48,"div",31)(49,"div",32)(50,"h5",33),n(51,"Menu"),t(),a(52,"button",34),t(),e(53,"div",35)(54,"a",36),n(55,"Dashboard"),t(),e(56,"a",37),n(57,"Jobs"),t(),e(58,"a",37),n(59,"Messages"),t(),e(60,"a",38),a(61,"i",12),n(62," Post Job "),t()()())},dependencies:[b,f,p],styles:[".navbar[_ngcontent-%COMP%]{height:70px;background-color:#ffffffe6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 0 10px #0000000d;z-index:999}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:100%}.logo[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1.25rem;background:linear-gradient(135deg,#4caf50,#ff6f00);border-radius:50%;color:#fff;margin-right:.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;background:linear-gradient(to right,#4caf50,#ff6f00);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.nav-link[_ngcontent-%COMP%]{color:#343a40;font-weight:500;transition:all .2s ease-in-out}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#4caf50}.btn-icon[_ngcontent-%COMP%]{width:38px;height:38px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:#f8f9fa;color:#343a40;transition:background-color .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.dropdown-menu[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 8px 24px #0000001a;padding:.5rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#eaf6eb}.offcanvas[_ngcontent-%COMP%]{background-color:#fff}.offcanvas[_ngcontent-%COMP%]   .offcanvas-title[_ngcontent-%COMP%]{font-weight:600}.offcanvas[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 0;color:#343a40}.offcanvas[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#4caf50}.offcanvas[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:12px}"]})};var g=class l{constructor(i){this.http=i}baseUrl=_.baseUrl;getAllJobs(){return this.http.get(`${this.baseUrl}`)}getUserJobs(i){return this.http.get(`${this.baseUrl}/my`,{params:{userId:i}})}getUserNotifications(i){return this.http.get("/api/notifications",{params:{userId:i}})}getJobById(i){return this.http.get(`${this.baseUrl}/${i}`)}createJob(i,o){return this.http.post(`${this.baseUrl}`,M(C({},i),{code:o}))}updateJobStatus(i,o){return this.http.patch(`${this.baseUrl}/${i}/status`,{status:o})}static \u0275fac=function(o){return new(o||l)(O(k))};static \u0275prov=P({token:l,factory:l.\u0275fac,providedIn:"root"})};function $(l,i){l&1&&(e(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h3"),n(5,"Kitchen Cabinet Painting"),t(),e(6,"span",20),n(7,"Open"),t(),e(8,"span",21),n(9,"Medium Priority"),t()(),e(10,"p"),n(11,"Need professional painting of kitchen cabinets. White color preferred. Kitchen is medium sized with approximately 20 cabinet doors."),t(),e(12,"ul",22)(13,"li"),n(14,"\u20B5800 - \u20B51200"),t(),e(15,"li"),n(16,"Austin, TX"),t(),e(17,"li"),n(18,"2 days ago"),t(),e(19,"li"),n(20,"5 bids"),t()(),e(21,"div",23)(22,"button",24),n(23,"Manage Job"),t()()(),e(24,"div",18)(25,"div",19)(26,"h3"),n(27,"Bathroom Plumbing Repair"),t(),e(28,"span",25),n(29,"Completed"),t(),e(30,"span",26),n(31,"High Priority"),t()(),e(32,"p"),n(33,"Leaky faucet and running toilet need repair. Located in master bathroom."),t(),e(34,"ul",22)(35,"li"),n(36,"\u20B5200 - \u20B5400"),t(),e(37,"li"),n(38,"Austin, TX"),t(),e(39,"li"),n(40,"1 week ago"),t(),e(41,"li"),n(42,"3 bids"),t()(),e(43,"div",23)(44,"button",24),n(45,"Manage Job"),t()()()()())}function I(l,i){l&1&&(e(0,"div",16)(1,"h3"),n(2,"Bids for: Kitchen Cabinet Painting"),t(),e(3,"div",27)(4,"h4"),n(5,"Kwame Boateng"),t(),e(6,"p"),n(7,"\u20B5500 - Estimated 3 days"),t(),e(8,"div",28)(9,"button",29),n(10,"Accept"),t(),e(11,"button",30),n(12,"Reject"),t(),e(13,"button",24),n(14,"Message"),t(),e(15,"button",24),n(16,"View Profile"),t()()()())}var D=class l{constructor(i,o){this.authService=i;this.jobService=o}user;JobStatus=E;jobs$;activeJobs$;completedJobs$;totalSpent$;showJobPostModal=!1;activeTab="jobs";ngOnInit(){this.user=this.authService.getUser();let i=this.user?.id;i&&(this.jobs$=this.jobService.getUserJobs(i),this.activeJobs$=this.jobs$.pipe(m(o=>o.filter(r=>r.status==="open"||r.status==="assigned"))),this.completedJobs$=this.jobs$.pipe(m(o=>o.filter(r=>r.status==="completed"))),this.totalSpent$=this.completedJobs$.pipe(m(o=>o.reduce((r,s)=>r+(s.finalAmount||0),0))))}openJobModal(){this.showJobPostModal=!0}closeJobModal(){this.showJobPostModal=!1}static \u0275fac=function(o){return new(o||l)(u(y),u(g))};static \u0275cmp=c({type:l,selectors:[["app-user-dashboard"]],decls:53,vars:6,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"welcome-text"],["routerLink","/jobs/new",1,"btn-primary"],[1,"icon"],[1,"stats-cards"],[1,"card"],[1,"card-content"],[1,"card-icon","briefcase"],[1,"card-icon","clock"],[1,"card-icon","check-circle"],[1,"card-icon","dollar-sign"],[1,"tabs"],[1,"tab-buttons"],[3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[1,"job-cards"],[1,"job-card"],[1,"job-header"],[1,"status","open"],[1,"urgency","medium"],[1,"meta"],[1,"action"],[1,"btn-secondary"],[1,"status","completed"],[1,"urgency","high"],[1,"bid-card"],[1,"bid-actions"],[1,"btn-primary"],[1,"btn-danger"]],template:function(o,r){o&1&&(a(0,"app-navbar"),e(1,"main",0)(2,"div",1)(3,"div",2)(4,"h1"),n(5,"Welcome back, John Smith!"),t(),e(6,"p"),n(7,"Manage your projects and connect with skilled artisans"),t()(),e(8,"a",3)(9,"span",4),n(10,"\uFF0B"),t(),n(11," Post New Job "),t()(),e(12,"div",5)(13,"div",6)(14,"div",7),a(15,"div",8),e(16,"div")(17,"p"),n(18,"Total Jobs"),t(),e(19,"h2"),n(20,"12"),t()()()(),e(21,"div",6)(22,"div",7),a(23,"div",9),e(24,"div")(25,"p"),n(26,"Active Jobs"),t(),e(27,"h2"),n(28,"2"),t()()()(),e(29,"div",6)(30,"div",7),a(31,"div",10),e(32,"div")(33,"p"),n(34,"Completed"),t(),e(35,"h2"),n(36,"8"),t()()()(),e(37,"div",6)(38,"div",7),a(39,"div",11),e(40,"div")(41,"p"),n(42,"Total Spent"),t(),e(43,"h2"),n(44,"$4,250"),t()()()()(),e(45,"div",12)(46,"div",13)(47,"button",14),S("click",function(){return r.activeTab="jobs"}),n(48,"My Jobs"),t(),e(49,"button",14),S("click",function(){return r.activeTab="bids"}),n(50,"Recent Bids"),t()(),w(51,$,46,0,"div",15)(52,I,17,0,"div",15),t()()),o&2&&(d(47),x("active",r.activeTab==="jobs"),d(2),x("active",r.activeTab==="bids"),d(2),h("ngIf",r.activeTab==="jobs"),d(),h("ngIf",r.activeTab==="bids"))},dependencies:[b,J,f,p,v],encapsulation:2})};export{D as a};
